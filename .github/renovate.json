{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended",
    ":combinePatchMinorReleases",
    ":separateMultipleMajorReleases"
  ],
  "enabledManagers": ["github-actions", "bun", "npm", "custom.regex"],
  "minimumReleaseAge": "3 days",
  "customManagers": [
    {
      "customType": "regex",
      "datasourceTemplate": "npm",
      "depTypeTemplate": "packageManager",
      "fileMatch": ["(^|/)package\\.json$"],
      "matchStrings": [
        "packageManager\"\\:\\s*\"(?<depName>.*?)\\@(?<currentValue>.*)\""
      ],
      "versioningTemplate": "npm"
    }
  ],
  "packageRules": [
    {
      "groupName": "definitelyTyped",
      "matchPackagePrefixes": ["@types/"]
    },
    {
      "extends": ["npm:unpublishSafe"]
    },
    {
      "description": "Use ci semantic type for some deps",
      "matchFileNames": [".github/workflows/**"],
      "semanticCommitType": "ci"
    },
    {
      "description": "Update the Renovate GitHub action weekly with fix type",
      "extends": [":semanticCommitType(fix)", "schedule:weekly"],
      "matchPackageNames": "renovatebot/github-action"
    }
  ],
  "postUpgradeTasks": {
    "commands": [
      "bun run syncpack",
      "bun run syncpack:format",
      "bun run biome:apply"
    ]
  },
  "updateInternalDeps": true
}
